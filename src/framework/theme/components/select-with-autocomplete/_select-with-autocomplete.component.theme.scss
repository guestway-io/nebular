/*
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */

@use '../../styles/theming' as *;
@use '../form-field/form-field.component.theme' as form-field-theme;
@use 'select-with-autocomplete-outline';
@use 'select-with-autocomplete-filled';
@use 'select-with-autocomplete-hero';

@mixin nb-select-with-autocomplete-theme() {
  nb-select-with-autocomplete .select-button {
    min-width: var(--select-min-width);
    cursor: var(--select-cursor);
    font-family: var(--select-text-font-family);

    &.placeholder {
      font-family: var(--select-placeholder-text-font-family);
    }
    &:focus {
      outline: none;
    }
    &[disabled] {
      cursor: var(--select-disabled-cursor);
    }
  }

  @each $size in nb-get-sizes() {
    nb-select-with-autocomplete.size-#{$size} {
      .select-button {
        font-size: var(--select-#{$size}-text-font-size);
        font-weight: var(--select-#{$size}-text-font-weight);
        line-height: var(--select-#{$size}-text-line-height);

        &.placeholder {
          font-size: var(--select-#{$size}-placeholder-text-font-size);
          font-weight: var(--select-#{$size}-placeholder-text-font-weight);
        }

        &.empty::before {
          content: ' ';
          display: block;
          height: var(--select-#{$size}-text-line-height);
        }
      }

      &:not(.full-width) {
        max-width: var(--select-#{$size}-max-width);
      }
    }
  }

  @each $shape in nb-get-shapes() {
    nb-select-with-autocomplete.shape-#{$shape} .select-button {
      border-radius: var(--select-#{$shape}-border-radius);
    }
  }

  // Need to make focus and active style the same
  nb-option {
    &:focus,
    &.active {
      background-color: var(--option-focus-background-color);
      color: var(--option-focus-text-color);
      outline: none;
      &.selected {
        background-color: var(--option-selected-focus-background-color);
        color: var(--option-selected-focus-text-color);
      }
    }

    &.multiple {
      &:focus,
      &.active,
      &.selected:focus,
      &.selected.active {
        background-color: var(--option-focus-background-color);
        color: var(--option-focus-text-color);
      }
    }
  }

  @include select-with-autocomplete-outline.select-with-autocomplete-outline();
  @include select-with-autocomplete-filled.select-with-autocomplete-filled();
  @include select-with-autocomplete-hero.select-with-autocomplete-hero();

  @include form-field-theme.nb-form-field-root-component('nb-select-with-autocomplete');
}
