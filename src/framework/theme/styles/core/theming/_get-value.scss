/**
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */

@use 'sass:map';
@use '../../theming-variables';
@use '../functions';
@use 'register';

@function nb-deep-find-value($theme, $key, $value) {
  $parent-value: map.get($theme, $value);

  @if ($parent-value != null) {
    @return nb-deep-find-value($theme, $value, $parent-value);
  }

  @return $value;
}

@function nb-process-theme($theme) {
  $processed-theme: ();
  @each $key, $value in $theme {
    $processed-theme: functions.map-set($processed-theme, $key, nb-deep-find-value($theme, $key, $value));
  }
  @return $processed-theme;
}

@function get-current-theme-name() {
  @if (theming-variables.$nb-theme-name != null) {
    @return theming-variables.$nb-theme-name;
  }

  @return register.get-last-enabled-theme();
}
